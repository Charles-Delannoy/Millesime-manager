<div class="cave-page-title">
  <h1 id="cave-name"><%= @cave.name %></h1>
</div>

<div id='filters' class='d-none'>
  <%= render "cave_filter", cave: @cave %>
</div>

<% bottle_count = @cave.bottles.sum(:quantity) %>

<% if !@options.any? && (@redbottles.empty? && @whitebottles.empty? && @pinkbottles.empty?) || bottle_count == 0 %>
  <div class="empty-cave">
    <div class="empty-cave-content">
      <p>Votre cave est vide</p>
      <%= link_to "Ajouter des bouteilles", cave_wines_path(@cave), class: 'add-bottle' %>
    </div>
  </div>

<% else %>
  <div class="add-wine-from-cave-show">
    <%= link_to "Ajouter des bouteilles", cave_wines_path(@cave), class:"add-bottle" %>
    <%= link_to "show/hide filters", '#', id:"filter-button", class:"add-bottle" %>
  </div>
  <div class="wine-section-color-red">
    <div class="title-wine-color">
      <h1>Mes vins rouges</h1>
    </div>
    <% if @redbottles.empty? %>
      <p class="no-results">Aucune bouteille de rouge ne correspond à votre recherche !</p>
    <% else %>
      <div class="wine-ribbon">
        <% @redbottles.each do |redbottle| %>
          <div class="red-wine-card">
            <%= render "cave_wine_card", bottle: redbottle %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="wine-section-color-white">
    <div class="title-wine-color">
      <h1>Mes vins blancs</h1>
    </div>
    <% if @whitebottles.empty? %>
      <p class="no-results">Aucune bouteille de blanc ne correspond à votre recherche !</p>
    <% else %>
      <div class="wine-ribbon">
        <% @whitebottles.each do |whitebottle| %>
          <div class="white-wine-card">
            <%= render "cave_wine_card", bottle: whitebottle %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="wine-section-color-pink">
    <div class="title-wine-color">
      <h1>Mes vins rosés</h1>
    </div>
    <% if @pinkbottles.empty? %>
      <p class="no-results">Aucune bouteille de rosé ne correspond à votre recherche !</p>
    <% else %>
      <div class="wine-ribbon">
        <% @pinkbottles.each do |pinkbottle| %>
          <div class="pink-wine-card">
            <%= render "cave_wine_card", bottle: pinkbottle %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>



